import app from"/js/site.min.js";import route from"/js/router.min.js";const d=app.d,df=d.domfn,{div:div,h4:h4,section:section,span:span,header:header}=df,contentDisplay=df.section({class:"posts"});route("posts",contentDisplay),""!=location.hash&&"#"!=location.hash||(location.hash="posts"),app.view={page:0};const publicPost=t=>div({$:contentDisplay,class:"post",attr:{pid:t.id},onclick(s){console.log(s),location.hash=t.id}},header(div(h4(t.title),div({class:"author-name"},"By "+t.author_name)),div(div({class:"posted"},new Date(1e3*t.posted).toLocaleString()),div({class:"tags"},t.tags.map(t=>span({class:"tag"},t))))));app.fetchPostContent=async t=>{const s=await fetch("/post-content/"+t),o=await s.json();if(o.ok)return o.data;throw new Error(o.status)},app.writQuery({with_content:!1}).then(t=>{if(!d.isArr(t))return console.error(t);t.forEach(t=>publicPost(t))});
//# sourceMappingURL=view.min.js.map