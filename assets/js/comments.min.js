import app from"/js/site.min.js";const d=app.d,df=d.domfn,{div:div,h4:h4,section:section,span:span,header:header}=df;app.fetchComments=async(t,s={})=>{null==s.path&&(s.path=t+"/"),null==s.page&&(s.page=1);const e=await app.jsonPost("/comments",s);console.log(e)};const commentsDisplay=section({$:app.postDisplay,class:"comments"},t=>[header(h4("Comments")),t.commentWriter=div({class:"comment-writer"},t.textarea=df.textarea({placeholder:"write a comment"}),t.postBtn=df.button({class:"cancel-btn"},"Cancel"),t.cancelBtn=df.button({class:"post-btn"},"Post")),t.list=div({class:"comment-list"})]);app.on.postRendered(async t=>{app.postDisplay.classList.toggle("with-comments",t.commentable),t.commentable?(commentsDisplay.list.innerHTML="",d.render(commentsDisplay,app.postDisplay),await app.fetchComments(t.id)):df.remove(commentsDisplay)});
//# sourceMappingURL=comments.min.js.map